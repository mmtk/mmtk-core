[package]
name = "mmtk"
version = "0.0.1"
authors = [" <>"]
edition = "2018"

[lib]
name = "mmtk"
crate-type = ["rlib", "dylib", "staticlib"]
doctest = false

[dependencies]
custom_derive = "0.1"
enum_derive = "0.1"
libc = "0.2"
lazy_static = "1.1"
log = {version = "0.4", features = ["max_level_trace", "release_max_level_off"] }
crossbeam-deque = "0.6"
num_cpus = "1.8"
atomic-traits = "0.2.0"

[target.x86_64-unknown-linux-gnu.dependencies]
atomic = "0.4.6"

[dev-dependencies]
crossbeam = "0.7.3"

[features]
default = []

# plans
nogc = ["immortalspace", "largeobjectspace"]
semispace = ["immortalspace", "largeobjectspace", "copyspace"]

# spaces
base_spaces = []
vm_space = ["base_spaces"]
ro_space = ["base_spaces"]
code_space  = ["base_spaces"]

immortalspace = []
copyspace = []
largeobjectspace = []
lockfreeimmortalspace = []

sanity = []
force_32bit_heap_layout = []
nogc_lock_free = ["nogc", "lockfreeimmortalspace"]
nogc_no_zeroing = ["nogc_lock_free"]
