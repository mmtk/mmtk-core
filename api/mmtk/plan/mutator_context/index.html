<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Mutator context for each application thread."><title>mmtk::plan::mutator_context - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="mmtk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module mutator_context</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../mmtk/index.html">mmtk</a><span class="version">0.31.0-56adff4da608196dbd3da25f812ae64617aa1c1e</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module mutator_<wbr>context</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In mmtk::<wbr>plan</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">mmtk</a>::<wbr><a href="../index.html">plan</a></div><h1>Module <span>mutator_<wbr>context</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/mmtk/plan/mutator_context.rs.html#1-682">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Mutator context for each application thread.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Mutator.html" title="struct mmtk::plan::mutator_context::Mutator">Mutator</a></dt><dd>A mutator is a per-thread data structure that manages allocations and barriers. It is usually highly coupled with the language VM.
It is recommended for MMTk users 1) to have a mutator struct of the same layout in the thread local storage that can be accessed efficiently,
and 2) to implement fastpath allocation and barriers for the mutator in the VM side.</dd><dt><a class="struct" href="struct.MutatorBuilder.html" title="struct mmtk::plan::mutator_context::MutatorBuilder">Mutator<wbr>Builder</a></dt><dd>Used to build a mutator struct</dd><dt><a class="struct" href="struct.MutatorConfig.html" title="struct mmtk::plan::mutator_context::MutatorConfig">Mutator<wbr>Config</a></dt><dt><a class="struct" href="struct.ReservedAllocators.html" title="struct mmtk::plan::mutator_context::ReservedAllocators">Reserved<wbr>Allocators</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>This is used for plans to indicate the number of allocators reserved for the plan.
This is used as a parameter for creating allocator/space mapping.
A plan is required to reserve the first few allocators. For example, if n_bump_pointer is 1,
it means the first bump pointer allocator will be reserved for the plan (and the plan should
initialize its mapping itself), and the spaces in common/base plan will use the following bump
pointer allocators.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.MutatorContext.html" title="trait mmtk::plan::mutator_context::MutatorContext">Mutator<wbr>Context</a></dt><dd>Each GC plan should provide their implementation of a MutatorContext. <em>Note that this trait is no longer needed as we removed
per-plan mutator implementation and we will remove this trait as well in the future.</em></dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.common_prepare_func.html" title="fn mmtk::plan::mutator_context::common_prepare_func">common_<wbr>prepare_<wbr>func</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>An mutator prepare implementation for plans that use <a href="../global/struct.CommonPlan.html" title="struct mmtk::plan::global::CommonPlan"><code>crate::plan::global::CommonPlan</code></a>.</dd><dt><a class="fn" href="fn.common_release_func.html" title="fn mmtk::plan::mutator_context::common_release_func">common_<wbr>release_<wbr>func</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>An mutator release implementation for plans that use <a href="../global/struct.CommonPlan.html" title="struct mmtk::plan::global::CommonPlan"><code>crate::plan::global::CommonPlan</code></a>.</dd><dt><a class="fn" href="fn.create_allocator_mapping.html" title="fn mmtk::plan::mutator_context::create_allocator_mapping">create_<wbr>allocator_<wbr>mapping</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Create an allocator mapping for spaces in Common/BasePlan for a plan. A plan should reserve its own allocators.</dd><dt><a class="fn" href="fn.create_space_mapping.html" title="fn mmtk::plan::mutator_context::create_space_mapping">create_<wbr>space_<wbr>mapping</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Create a space mapping for spaces in Common/BasePlan for a plan. A plan should reserve its own allocators.</dd><dt><a class="fn" href="fn.no_op_release_func.html" title="fn mmtk::plan::mutator_context::no_op_release_func">no_<wbr>op_<wbr>release_<wbr>func</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>A place-holder implementation for <code>MutatorConfig::release_func</code> that does nothing.</dd><dt><a class="fn" href="fn.unreachable_prepare_func.html" title="fn mmtk::plan::mutator_context::unreachable_prepare_func">unreachable_<wbr>prepare_<wbr>func</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>A place-holder implementation for <code>MutatorConfig::prepare_func</code> that should not be called.
It is the most often used by plans that sets <code>PlanConstraints::needs_prepare_mutator</code> to
<code>false</code>.  It is also used by <code>NoGC</code> because it must not trigger GC.</dd><dt><a class="fn" href="fn.unreachable_release_func.html" title="fn mmtk::plan::mutator_context::unreachable_release_func">unreachable_<wbr>release_<wbr>func</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>A place-holder implementation for <code>MutatorConfig::release_func</code> that should not be called.
Currently only used by <code>NoGC</code>.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.SpaceMapping.html" title="type mmtk::plan::mutator_context::SpaceMapping">Space<wbr>Mapping</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl></section></div></main></body></html>