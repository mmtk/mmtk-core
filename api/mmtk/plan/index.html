<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="GC algorithms from the MMTk suite."><title>mmtk::plan - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="mmtk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module plan</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../mmtk/index.html">mmtk</a><span class="version">0.32.0-105661429473dc141f940e981c04dc86e995daaa</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module plan</a></h2><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate mmtk</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">mmtk</a></div><h1>Module <span>plan</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/mmtk/plan/mod.rs.html#1-70">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>GC algorithms from the MMTk suite.</p>
<p>This module provides various GC plans, each of which implements a GC algorithm.
Generally a plan consists of a few parts:</p>
<ul>
<li>A plan type that implements the <a href="trait.Plan.html" title="trait mmtk::plan::Plan"><code>Plan</code></a> trait, which defines
spaces used in the plan, and their behaviors in GC and page accounting.</li>
<li>A mutator definition, which describes the mapping between allocators and allocation semantics,
and the mapping between allocators and spaces. If the plan needs barrier, the barrier definition is
also included here.</li>
<li>A constant for <a href="struct.PlanConstraints.html" title="struct mmtk::plan::PlanConstraints"><code>PlanConstraints</code></a>, which defines
plan-specific constants.</li>
<li>Plan-specific <a href="../scheduler/trait.GCWork.html" title="trait mmtk::scheduler::GCWork"><code>GCWork</code></a>, which is scheduled during GC.</li>
</ul>
<p>For more about implementing a plan, it is recommended to read the <a href="/docs/tutorial/Tutorial.md">MMTk tutorial</a>.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="mod" href="barriers/index.html" title="mod mmtk::plan::barriers">barriers</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Read/Write barrier implementations.</dd><dt><a class="mod" href="compressor/index.html" title="mod mmtk::plan::compressor">compressor</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="concurrent/index.html" title="mod mmtk::plan::concurrent">concurrent</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="gc_work/index.html" title="mod mmtk::plan::gc_work">gc_work</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>This module holds work packets for <code>CommonPlan</code> and <code>BasePlan</code>, or other work packets not
directly related to scheduling.</dd><dt><a class="mod" href="generational/index.html" title="mod mmtk::plan::generational">generational</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Generational plans (with a copying nursery)
Generational plans</dd><dt><a class="mod" href="global/index.html" title="mod mmtk::plan::global">global</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>The global part of a plan implementation.</dd><dt><a class="mod" href="immix/index.html" title="mod mmtk::plan::immix">immix</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="markcompact/index.html" title="mod mmtk::plan::markcompact">markcompact</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dt><a class="mod" href="marksweep/index.html" title="mod mmtk::plan::marksweep">marksweep</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Plan: marksweep</dd><dt><a class="mod" href="mutator_context/index.html" title="mod mmtk::plan::mutator_context">mutator_<wbr>context</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Mutator context for each application thread.</dd><dt><a class="mod" href="nogc/index.html" title="mod mmtk::plan::nogc">nogc</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Plan: nogc (allocation-only)</dd><dt><a class="mod" href="pageprotect/index.html" title="mod mmtk::plan::pageprotect">pageprotect</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Plan: pageprotect</dd><dt><a class="mod" href="plan_constraints/index.html" title="mod mmtk::plan::plan_constraints">plan_<wbr>constraints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Plan-specific constraints.</dd><dt><a class="mod" href="semispace/index.html" title="mod mmtk::plan::semispace">semispace</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Plan: semispace</dd><dt><a class="mod" href="sticky/index.html" title="mod mmtk::plan::sticky">sticky</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Sticky plans (using sticky marks for generational behaviors without a copying nursery)</dd><dt><a class="mod" href="tracing/index.html" title="mod mmtk::plan::tracing">tracing</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>This module contains code useful for tracing,
i.e. visiting the reachable objects by traversing all or part of an object graph.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Mutator.html" title="struct mmtk::plan::Mutator">Mutator</a></dt><dd>A mutator is a per-thread data structure that manages allocations and barriers. It is usually highly coupled with the language VM.
It is recommended for MMTk users 1) to have a mutator struct of the same layout in the thread local storage that can be accessed efficiently,
and 2) to implement fastpath allocation and barriers for the mutator in the VM side.</dd><dt><a class="struct" href="struct.ObjectsClosure.html" title="struct mmtk::plan::ObjectsClosure">Objects<wbr>Closure</a></dt><dd>A transitive closure visitor to collect the slots from objects.
It maintains a buffer for the slots, and flushes slots to a new work packet
if the buffer is full or if the type gets dropped.</dd><dt><a class="struct" href="struct.PlanConstraints.html" title="struct mmtk::plan::PlanConstraints">Plan<wbr>Constraints</a></dt><dd>This struct defines plan-specific constraints.
Most of the constraints are constants. Each plan should declare a constant of this struct,
and use the constant wherever possible. However, for plan-neutral implementations,
these constraints are not constant.</dd><dt><a class="struct" href="struct.VectorQueue.html" title="struct mmtk::plan::VectorQueue">Vector<wbr>Queue</a></dt><dd>An implementation of <code>ObjectQueue</code> using a <code>Vec</code>.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.AllocationSemantics.html" title="enum mmtk::plan::AllocationSemantics">Allocation<wbr>Semantics</a></dt><dd>Allocation semantics that MMTk provides.
Each allocation request requires a desired semantic for the object to allocate.</dd><dt><a class="enum" href="enum.BarrierSelector.html" title="enum mmtk::plan::BarrierSelector">Barrier<wbr>Selector</a></dt><dd>BarrierSelector describes which barrier to use.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.GENCOPY_CONSTRAINTS.html" title="constant mmtk::plan::GENCOPY_CONSTRAINTS">GENCOPY_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the generational copying plan.</dd><dt><a class="constant" href="constant.GENIMMIX_CONSTRAINTS.html" title="constant mmtk::plan::GENIMMIX_CONSTRAINTS">GENIMMIX_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the generational immix plan.</dd><dt><a class="constant" href="constant.IMMIX_CONSTRAINTS.html" title="constant mmtk::plan::IMMIX_CONSTRAINTS">IMMIX_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the immix plan.</dd><dt><a class="constant" href="constant.MARKCOMPACT_CONSTRAINTS.html" title="constant mmtk::plan::MARKCOMPACT_CONSTRAINTS">MARKCOMPACT_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the mark compact plan.</dd><dt><a class="constant" href="constant.MS_CONSTRAINTS.html" title="constant mmtk::plan::MS_CONSTRAINTS">MS_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the mark sweep plan.</dd><dt><a class="constant" href="constant.NOGC_CONSTRAINTS.html" title="constant mmtk::plan::NOGC_CONSTRAINTS">NOGC_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the no gc plan.</dd><dt><a class="constant" href="constant.PP_CONSTRAINTS.html" title="constant mmtk::plan::PP_CONSTRAINTS">PP_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the page protect plan.</dd><dt><a class="constant" href="constant.SS_CONSTRAINTS.html" title="constant mmtk::plan::SS_CONSTRAINTS">SS_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the semispace plan.</dd><dt><a class="constant" href="constant.STICKY_IMMIX_CONSTRAINTS.html" title="constant mmtk::plan::STICKY_IMMIX_CONSTRAINTS">STICKY_<wbr>IMMIX_<wbr>CONSTRAINTS</a></dt><dd>The plan constraints for the sticky immix plan.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.MutatorContext.html" title="trait mmtk::plan::MutatorContext">Mutator<wbr>Context</a></dt><dd>Each GC plan should provide their implementation of a MutatorContext. <em>Note that this trait is no longer needed as we removed
per-plan mutator implementation and we will remove this trait as well in the future.</em></dd><dt><a class="trait" href="trait.ObjectQueue.html" title="trait mmtk::plan::ObjectQueue">Object<wbr>Queue</a></dt><dd>This trait represents an object queue to enqueue objects during tracing.</dd><dt><a class="trait" href="trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a></dt><dd>A plan describes the global core functionality for all memory management schemes.
All global MMTk plans should implement this trait.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.VectorObjectQueue.html" title="type mmtk::plan::VectorObjectQueue">Vector<wbr>Object<wbr>Queue</a></dt><dd>A vector queue for object references.</dd></dl></section></div></main></body></html>